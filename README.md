기상청 API를 활용한 날씨 조회기능 구현

초단기예보 활용

위치정보 조회를 위한 코드 Bean으로 작성

조회한 위치정보를 기상청에서 원하는 X좌표, Y좌표로 변경할 수 있는 자바 코드 Bean으로 작성

NewFile.jsp에서 실행하게 되면, JS코드를 통해 사용자의 위치정보를 확인할 수 있다.

해당 정보를 가지고 form버튼을 통해, test7.jsp로 이동하게 된다.

위치객체를 통해 전달받은 정보를 기상청에서 원하는 형식으로 전환하기 위한 Java 로직 파일(Bean)의 메서드를 활용하여 각 X좌표, Y좌표에 알맞은 값을 넣어준다.

console을 통해 위치 정보를 확인할 수 있다.

*이때 기상청 API의 경우 실행 시간마다 결과가 달라질 수 있으며, 금방 되다가도 5분뒤에는 안되는 상황이 발생하기도 한다. 실행되지 않는 경우 각기 다른 에러 문구를 확인할 수 있으며, 본인의 경우 아직 에러의 원인을 파악하지 못하였다. 실행이 잘 되지 않는다면 시간을 좀 두고 확인하는 것이 좋다.*
* Json데이터가 파싱되지 않는다면 Json파서와 관련된 라이브러리를 WEB-INF폴더 하위에 두는 것이 좋다. 관련 링크는 페이지에 존재하는 주석을 통해 확인 할 수 있다. *
* API를 활용하여 처음 데이터를 받아올때 CORS와 관련한 오류가 발생한다면, 도메인 서버 관련된 정책으로 인해 실습용 localhost에 한정된 에러이므로 구글의 확장프로그램을 활용하여 해결 가능하다. 관련 하여 더 자세한 내용이 정리되어있는 블로그 링크를 하단에 첨부하였다.
* https://velog.io/@qortmdalsdl/CORS-%EC%A0%95%EB%A6%AC%EC%99%80-%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95-Chrome
